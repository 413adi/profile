<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aditya Krishna Resume</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: Arial, sans-serif;
            background-color: #f5f5f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px 0; /* Add some vertical padding */
            overflow-y: auto;
        }

        .container {
            max-width: 850px; /* Limit width for better readability */
            width: 100%;
            margin: 0 auto;
            position: relative;
        }

        .pdf-container {
            width: 100%;
            position: relative;
            background-color: white;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 15px;
            margin-bottom: 30px;
            overflow: hidden; /* Prevent content from spilling out */
        }

        .pdf-page {
            width: 100%;
            height: auto;
        }

        .pdf-pages-container {
            width: 100%;
            background-color: white;
            padding: 10px;
        }

        .pdf-page-div {
            width: 100%;
            margin-bottom: 15px;
            border: 1px solid #eee;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            display: flex;
            justify-content: center;
            overflow: hidden; /* Prevent any overflow */
        }

        canvas {
            max-width: 100%;
            height: auto !important; /* Force height to auto to maintain aspect ratio */
            display: block;
            border-radius: 2px;
        }
        
        .hotspot {
            position: absolute;
            background-color: rgba(0, 123, 255, 0.08);
            border: 2px dashed rgba(0, 123, 255, 0.0);
            border-radius: 4px;
            cursor: pointer;
            transition: none; /* Remove the transition effect */
            pointer-events: auto;
        }

        .hotspot:hover {
            background-color: rgba(0, 123, 255, 0.2);
            border: 2px dashed rgba(0, 123, 255, 0);

        }

        .hotspot:active {
            background-color: rgba(0, 123, 255, 0.25);
            border: 2px solid rgba(0, 123, 255, 0.6);

        }

        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .modal.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            max-width: 700px;
            width: 90%;
            max-height: 200vh;
            overflow-y: auto;
            position: relative;
            transform: scale(0.8);
            transition: transform 0.3s ease;
            font-family: "Times New Roman", Times, serif; /* Added Times New Roman font */
        }
        
        .modal.active .modal-content {
            transform: scale(1);
        }
        
        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #777;
            transition: color 0.3s ease;
        }
        
        .close-modal:hover {
            color: #333;
        }
        
        .modal-title {
            margin-bottom: 1rem;
            color: #0056b3;
            font-size: 1.5rem;
        }
        
        .modal-body p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        
        .modal-body ul {
            margin-left: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .modal-body li {
            margin-bottom: 0.5rem;
        }
        
        #linkedin {
            background-color: transparent;
            border: transparent;
        }

        #linkedin:hover {
            background-color: rgba(0, 123, 255, 0.1); /* Optional: slight highlight on hover */
        }

        #email {
            background-color: transparent;
            border: none;
        }

        #email:hover {
            background-color: rgba(0, 123, 255, 0.1); /* Optional: slight highlight on hover */
        }
        
        #location {
            background-color: transparent;
            border: none;
        }

        #location:hover {
            background-color: rgba(0, 123, 255, 0.1); /* Optional: slight highlight on hover */
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .gallery-img {
            width: 100%;
            height: auto;
            border-radius: 4px;
            transition: transform 0.3s ease;
            cursor: pointer;
        }
        
        .gallery-img:hover {
            transform: scale(1.05);
        }
        
        .tooltip {
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: #333;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            font-size: 0.875rem;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 100;
            white-space: nowrap;
        }

        .hotspot:hover .tooltip {
            opacity: 1;
            visibility: visible;
        }
        
        .single-image-container {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
            width: 100%;
        }

        .modal-img {
            /* Maximum dimensions - will constrain both width and height */
            max-width: 90%; /* Percentage of the modal-content width */
            max-height: 300px; /* Fixed maximum height */
            
            /* Make sure image maintains aspect ratio */
            width: auto;
            height: auto;
            
            /* Styling */
            object-fit: contain; /* Ensures entire image is visible */
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .image-description {
            margin-top: 10px;
            color: #666;
            text-align: center;
            width: 90%;
            font-style: normal; /* Changed from italic to normal */
        }

        /* For responsiveness - adjust hotspot positions based on screen size */
        @media (max-width: 768px) {
            .container {
                margin: 1rem auto;
            }
            
            .modal-content {
                padding: 1.5rem;
                width: 95%;
            }
        }
        
        /* Define control panel for editing mode */
        .control-panel {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: white;
            padding: 1rem;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 900;
            display: none;
        }
        
        .control-panel.active {
            display: block;
        }
        
        .control-panel button {
            margin-bottom: 0.5rem;
            padding: 0.5rem 1rem;
            background-color: #0056b3;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .control-panel button:hover {
            background-color: #003d82;
        }
        
        .control-panel input {
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            width: 100%;
        }
        
        .control-panel select {
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            width: 100%;
        }

        .hotspot-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: auto;
            z-index: 10;
        }

    </style>
</head>
<body>
    <div class="container">
        <div class="pdf-container" id="pdfContainer">
            <div id="pdfViewer" class="pdf-page"></div>
            
            <!-- Hotspot wrapper remains the same -->
            <div class="hotspot-wrapper" id="hotspotWrapper">
                <div class="hotspot" id="linkedin">
                </div>

                <div class="hotspot" id="location">
                </div>

                <div class="hotspot" id="email">
                </div>
                
                <div class="hotspot" id="experience1">
                </div>
                
                <div class="hotspot" id="experience2">
                </div>

                <div class="hotspot" id="experience3">
                </div>

                <div class="hotspot" id="experience4">
                </div>

                <div class="hotspot" id="experience5">
                </div>

                <div class="hotspot" id="experience6">
                </div>

                <div class="hotspot" id="experience7">
                </div>

                <div class="hotspot" id="experience8">
                </div>

                <div class="hotspot" id="experience9">
                </div>

                <div class="hotspot" id="experience10">
                </div>
                
            </div>
        </div>
    </div>
    
    <!-- Modal templates - they will be populated with content when opened -->
    <div class="modal" id="linkedinModal"></div>
    </div>

    <div class="modal" id="locationModal" style="display: none;"></div>
    </div>
    
    <div class="modal" id="emailModal" style="display: none;"></div>
    </div>

    <div class="modal" id="experience1Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="AcousticCrossTalkBaker.png" alt="Acoustic Cross Talk Phased Array" class="modal-img">
                    <p class="image-description">Simulation tool showing the different paths the central beam of an acoustic signal can take from one element to others after multiple reflections within the pipe wall and between the pipe and the array head</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience2Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="DefectRecognitionBaker.png" alt="Defect detection and recognition" class="modal-img">
                    <p class="image-description">Created an algorithm that detects defect signals from multiple reflections and avoids noise signals</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience3Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="ModelForGuidedWaves.png" alt="Model for guided waves" class="modal-img">
                    <p class="image-description">Created a numerical simulation tool that can simulate guided wave propagation in cylinders based on computations in the Fourier and Laplace domains</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience4Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="TestRig2.jpg" alt="Test rig" class="modal-img">
                    <p class="image-description">A custom designed and 3D printed part to space sensors to generate and receive guided waves</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience5Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="Simulation.gif" alt="Simulation" class="modal-img">
                    <p class="image-description">Animation showing the process of topological imaging, incident field is reversed, differacted fields are transmitted normally and the correlation of the two enables the localization of the defect</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience6Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="ModalAnalysis.png" alt="Modal Analysis" class="modal-img">
                    <p class="image-description">Image on the left shows how resonance frequencies of the system change due to icing and the image on the right shows Ansys simulations of the various modes of the plate to determine the ideal frequency to deice it</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience7Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="Deicing.png" alt="Deicing" class="modal-img">
                    <p class="image-description">Deicing of the plate matching what was expected in the simulations</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience8Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="LeakDetection.png" alt="Leak detection" class="modal-img">
                    <p class="image-description">Image demonstrating the concept of leak detection based on measurements before, on and after the valve</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience9Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="Denoising.png" alt="Denoising" class="modal-img">
                    <p class="image-description">Image on the left shows wavelet based denoising and the ones on the right show how transient noise is relatively unaffected but impulse noise is largely denoised (blue vs orange)</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal" id="experience10Modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-body">
                <div class="single-image-container">
                    <img src="SteanTrapCavTherm.png" alt="" class="modal-img">
                    <p class="image-description">Images showing the steam trap use case, cavitation tests to match AE with standard cavitation measurements and thermal camera measurements</p>
                </div>
            </div>
        </div>
    </div>
    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <script>
        // Initial hotspot positions - these would be configured based on your PDF layout
        // Using percentages for responsive positioning
        const hotspotPositions = {
            experience1: { x: 11.5, y: 38.9, width: 75, height: 1 },
            experience2: { x: 11.5, y: 40, width: 85, height: 2 },
            experience3: { x: 11.5, y: 54.9, width: 85, height: 2 },
            experience4: { x: 11.5, y: 59.2, width: 52.5, height: 1 },
            experience5: { x: 11.5, y: 61.6, width: 85, height: 2 },
            experience6: { x: 11.5, y: 67.8, width: 85, height: 2 },
            experience7: { x: 11.5, y: 72.2, width: 68.2, height: 1 },
            experience8: { x: 11.5, y: 21.7, width: 76, height: 1 },
            experience9: { x: 11.5, y: 22.8, width: 85, height: 1 },
            experience10: { x: 11.5, y: 23.9, width: 85, height: 6.5 }
        };
        
        // Add this to your script to disable internal scrolling
        // In your positionHotspots function, adjust to handle scrolling
        // Replace your current positionHotspots function with this one
        // Initialize PDF.js worker
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.worker.min.js';

        // Load the PDF
        let pdfDoc = null;
        let pageNum = 1;
        let pageRendering = false;
        let pageNumPending = null;
        // Replace the fixed scale
        // const scale = 2.0;

        // With a dynamic scale calculation
        function calculateScale() {
            const pdfContainer = document.getElementById('pdfContainer');
            const containerWidth = pdfContainer.clientWidth - 30; // Account for padding
            
            // Use a higher minimum scale for better clarity
            // This ensures text remains readable
            return Math.max(1.5, containerWidth / 600); // Adjusted from 800 to 600 for better quality
        }

        const scale = calculateScale();
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        const pdfViewer = document.getElementById('pdfViewer');
        pdfViewer.appendChild(canvas);

        // Render a specific page of the PDF
        function renderPage(num) {
            pageRendering = true;
            
            // Get the page
            pdfDoc.getPage(num).then(function(page) {
                const viewport = page.getViewport({ scale: scale });
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                
                // Render PDF page into canvas context
                const renderContext = {
                    canvasContext: ctx,
                    viewport: viewport
                };
                
                const renderTask = page.render(renderContext);
                
                // Wait for rendering to finish
                renderTask.promise.then(function() {
                    pageRendering = false;
                    
                    if (pageNumPending !== null) {
                        // New page rendering is pending
                        renderPage(pageNumPending);
                        pageNumPending = null;
                    }
                    
                    // Position hotspots after page is rendered
                    positionHotspots();
                });
                setTimeout(positionHotspots, 100);
            });
        }

        // Load and render the PDF
        function loadPDF() {
            pdfjsLib.getDocument('Resume_AdityaKrishna.pdf').promise.then(function(pdf) {
                pdfDoc = pdf;
                
                // Initial page render
                renderPage(1);
                
                // Render all pages for scrolling
                renderAllPages(pdf);
            });
        }

        // Render all pages of the PDF for scrolling
        function renderAllPages(pdf) {
            const pdfContainer = document.getElementById('pdfViewer');
            pdfContainer.innerHTML = ''; // Clear any existing content
            
            // Get total page count
            const numPages = pdf.numPages;
            
            // Create a container to hold all pages
            const pagesContainer = document.createElement('div');
            pagesContainer.className = 'pdf-pages-container';
            pdfContainer.appendChild(pagesContainer);
            
            // Function to render a specific page
            function renderPageToContainer(pageNum) {
                return pdf.getPage(pageNum).then(function(page) {
                    const pdfContainer = document.getElementById('pdfContainer');
                    const containerWidth = pdfContainer.clientWidth - 50;
                    
                    // Get original page dimensions
                    const originalViewport = page.getViewport({ scale: 1.0 });
                    const originalAspectRatio = originalViewport.width / originalViewport.height;
                    
                    // Calculate scale to fit container width
                    const widthScale = containerWidth / originalViewport.width;
                    
                    // Use a minimum scale of 1.5 for clarity, but respect aspect ratio
                    const scaleFactor = Math.max(1.5, widthScale);
                    const displayViewport = page.getViewport({ scale: scaleFactor });
                    
                    // Create div for this page
                    const pageDiv = document.createElement('div');
                    pageDiv.className = 'pdf-page-div';
                    pageDiv.setAttribute('data-page-number', pageNum);
                    pageDiv.style.position = 'relative';
                    
                    // Create canvas for this page
                    const pageCanvas = document.createElement('canvas');
                    
                    // Set dimensions maintaining aspect ratio
                    const pixelRatio = window.devicePixelRatio || 1;
                    pageCanvas.width = displayViewport.width * pixelRatio;
                    pageCanvas.height = displayViewport.height * pixelRatio;
                    pageCanvas.style.width = '100%'; // Make it responsive to container
                    pageCanvas.style.height = 'auto'; // Maintain aspect ratio
                    
                    const context = pageCanvas.getContext('2d');
                    context.scale(pixelRatio, pixelRatio);
                    
                    pageDiv.appendChild(pageCanvas);
                    pagesContainer.appendChild(pageDiv);
                    
                    // Render with improved quality
                    const renderContext = {
                        canvasContext: context,
                        viewport: displayViewport,
                        renderInteractiveForms: true
                    };
                    
                    return page.render(renderContext).promise.then(() => {
                        return { 
                            pageNum, 
                            height: displayViewport.height, 
                            width: displayViewport.width 
                        };
                    });
                });
            }
            
            // Render all pages
            const renderPromises = [];
            for (let i = 1; i <= numPages; i++) {
                renderPromises.push(renderPageToContainer(i));
            }
            
            // After all pages are rendered, position hotspots
            Promise.all(renderPromises).then(pageInfos => {
                // Store page dimensions for hotspot positioning
                window.pdfPageInfo = pageInfos;
                
                // Position hotspots
                positionHotspots();
                
                // Set wrapper height to match all pages
                const totalHeight = pageInfos.reduce((acc, info) => acc + info.height, 0);
                document.getElementById('hotspotWrapper').style.height = totalHeight + 'px';
                setTimeout(positionHotspots, 100);
            });
        }

        // Call loadPDF when document is loaded
        window.addEventListener('load', loadPDF);
        function positionHotspots() {
            // Get the PDF viewer and its dimensions
            const pdfViewer = document.getElementById('pdfViewer');
            const pdfContainer = document.getElementById('pdfContainer');
            const wrapper = document.getElementById('hotspotWrapper');
            
            // Get the current dimensions of the PDF container
            const containerRect = pdfContainer.getBoundingClientRect();
            
            // Set wrapper to cover the PDF viewer
            wrapper.style.width = '100%';
            wrapper.style.height = '100%';
            wrapper.style.position = 'absolute';
            wrapper.style.top = '0';
            wrapper.style.left = '0';
            wrapper.style.pointerEvents = 'none';
            
            // Position each hotspot based on the current PDF dimensions
            for (const [id, position] of Object.entries(hotspotPositions)) {
                const hotspot = document.getElementById(id);
                if (hotspot) {
                    // Use viewport-relative positioning for consistency
                    const pageHeight = pdfViewer.offsetHeight;
                    const pageWidth = pdfViewer.offsetWidth;
                    
                    // Calculate the absolute position relative to the container
                    const xPos = (position.x / 100) * pageWidth;
                    const yPos = (position.y / 100) * pageHeight;
                    const width = (position.width / 100) * pageWidth;
                    const height = (position.height / 100) * pageHeight;
                    
                    // Set the hotspot's position
                    hotspot.style.position = 'absolute';
                    hotspot.style.left = `${xPos}px`;
                    hotspot.style.top = `${yPos}px`;
                    hotspot.style.width = `${width}px`;
                    hotspot.style.height = `${height}px`;
                    hotspot.style.pointerEvents = 'auto';
                }
            }
        }
        // Position hotspots on load and window resize
        window.addEventListener('load', positionHotspots);
        window.addEventListener('resize', positionHotspots);
        // Add this right after your existing event listeners
        window.addEventListener('scroll', function() {
            positionHotspots();
        });

        // Add this to your existing script
        window.addEventListener('load', function() {
            // Give the PDF time to load
            setTimeout(function() {
                const iframe = document.getElementById('resumePdf');
                const wrapper = document.getElementById('hotspotWrapper');
                
                // Set a large initial height to ensure scrollability
                iframe.style.height = "1500px"; // Adjust this value based on your PDF's actual size
                wrapper.style.height = "1500px";
                
                // Re-position hotspots after size adjustment
                positionHotspots();
            }, 1000);
        });
        // Add this function to restore scrolling functionality
        function enableScrolling() {
            document.querySelectorAll('.hotspot').forEach(hotspot => {
                hotspot.addEventListener('click', function(e) {
                    // Prevent any default behavior that might interfere with scrolling
                    e.stopPropagation();
                    
                    // Open the modal
                    const modalId = `${this.id}Modal`;
                    const modal = document.getElementById(modalId);
                    if (modal) {
                        modal.classList.add('active');
                    }
                    
                    // Ensure scrolling is still enabled
                    document.body.style.overflow = 'auto';
                    document.documentElement.style.overflow = 'auto';
                });
            });
        }

        // Call this function after the document loads
        window.addEventListener('load', enableScrolling);
        // Set up modal functionality
        const modals = document.querySelectorAll('.modal');
        const closeButtons = document.querySelectorAll('.close-modal');
        
        document.querySelectorAll('.hotspot').forEach(hotspot => {
            if (hotspot.id !== 'linkedin' && hotspot.id !== 'email' && hotspot.id !== 'location') {
                hotspot.addEventListener('click', () => {
                    const modalId = `${hotspot.id}Modal`;
                    const modal = document.getElementById(modalId);
                    if (modal) {
                        modal.classList.add('active');
                    }
                });
            }
        });
        
        // Close modal when close button is clicked
        closeButtons.forEach(button => {
            button.addEventListener('click', () => {
                button.closest('.modal').classList.remove('active');
                // Restore scrolling
                document.body.style.overflow = 'auto';
                document.documentElement.style.overflow = 'auto';
            });
        });

        
        // Close modal when clicking outside of modal content
        modals.forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    // Restore scrolling
                    document.body.style.overflow = 'auto';
                    document.documentElement.style.overflow = 'auto';
                }
            });
        });
        
        // Close modal when Escape key is pressed
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                modals.forEach(modal => {
                    modal.classList.remove('active');
                });
            }
        });
        
        // Handle form submission (just for demonstration)
        const contactForm = document.getElementById('contactForm');
        if (contactForm) {
            contactForm.addEventListener('submit', (e) => {
                e.preventDefault();
                alert('Thank you for your message! This is a demo form - in a real website, this would send an email.');
                contactForm.reset();
                document.getElementById('contactModal').classList.remove('active');
            });
        }
        
        // Edit mode functionality
        let editMode = false;
        const editModeKeyCode = 'KeyE'; // Press 'e' key + Ctrl to toggle edit mode
        
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.code === editModeKeyCode) {
                toggleEditMode();
            }
        });
        
        function toggleEditMode() {
            editMode = !editMode;
            const controlPanel = document.getElementById('controlPanel');
            
            if (editMode) {
                controlPanel.classList.add('active');
                document.querySelectorAll('.hotspot').forEach(hotspot => {
                    hotspot.style.backgroundColor = 'rgba(255, 0, 0, 0.2)';
                    hotspot.style.border = '2px dashed rgba(255, 0, 0, 0.8)';
                });
                loadHotspotEditor();
            } else {
                controlPanel.classList.remove('active');
                document.querySelectorAll('.hotspot').forEach(hotspot => {
                    hotspot.style.backgroundColor = '';
                    hotspot.style.border = '';
                });
            }
        }
        
        document.getElementById('saveHotspot').addEventListener('click', () => {
            const hotspotId = document.getElementById('hotspotSelector').value;
            const x = parseFloat(document.getElementById('hotspotX').value);
            const y = parseFloat(document.getElementById('hotspotY').value);
            const width = parseFloat(document.getElementById('hotspotWidth').value);
            const height = parseFloat(document.getElementById('hotspotHeight').value);
            
            if (hotspotPositions[hotspotId]) {
                hotspotPositions[hotspotId] = { x, y, width, height };
                positionHotspots();
                
                // In a real application, you might want to save this to localStorage or a database
                console.log('Updated hotspot positions:', hotspotPositions);
                
                alert(`Hotspot "${hotspotId}" updated successfully!`);
            }
        });
        
        document.getElementById('linkedin').addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation(); // Stop event bubbling
            window.open('https://www.linkedin.com/in/adi413/', '_blank');
        });

        document.getElementById('location').addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation(); // Stop event bubbling
            window.open('https://maps.app.goo.gl/dcgirv9nagqtmJ8t5', '_blank');
        });

        document.getElementById('email').addEventListener('click', function(e) {
            e.preventDefault();
            e.stopPropagation(); // Stop event bubbling
            window.open('mailto:aditya.krishna413@gmail.com', '_blank');
        });


        // Export hotspot positions (for saving configuration)
        function exportHotspotPositions() {
            return JSON.stringify(hotspotPositions);
        }
        
        // Import hotspot positions (for loading saved configuration)
        function importHotspotPositions(positionsJson) {
            try {
                const positions = JSON.parse(positionsJson);
                Object.assign(hotspotPositions, positions);
                positionHotspots();
                return true;
            } catch (e) {
                console.error('Failed to import hotspot positions:', e);
                return false;
            }
        }
    </script>
</body>
</html>

